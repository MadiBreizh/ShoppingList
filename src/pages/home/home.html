<ion-header>
  <ion-navbar>
    <ion-title>
      Ma liste de course
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content >
    
  <ion-list>
    <ion-item-group reorder="true" (ionItemReorder)="reorderItems($event)">
      <ion-item-sliding *ngFor="let product of products | async" #item>
        <ion-item>
          <ion-label>
            <span [ngClass]="{'checked': product.valid}">
              <h2>{{ product.name }} - {{ product.valid }}</h2>
              QuantitÃ© -> {{ product.quantity}}
            </span>
          </ion-label>
          <ion-note item-end> {{ product.date | date: 'dd/MM HH:mm'}} </ion-note>
          <ion-checkbox [(ngModel)]="product.valid" (ionChange)="onSetProduct(product)"></ion-checkbox>
        </ion-item>

        <ion-item-options side="right">
          <button ion-button color="primary" (click)="onModify(item, product)">
              <ion-icon name="more"></ion-icon>
              Editer
          </button>

        </ion-item-options>

        <ion-item-options side="left" (ionSwipe)="onDelete(item, product)">
          <button ion-button color="danger" (click)="onDelete(item, product)">
            <ion-icon name="trash"></ion-icon>
              Effacer
          </button>
          </ion-item-options>

      </ion-item-sliding>
    </ion-item-group>
  </ion-list>

</ion-content>
<ion-footer>
    <button ion-button full outline color="secondary" (click)='addProduct()'>Ajouter un produit</button>
  </ion-footer>